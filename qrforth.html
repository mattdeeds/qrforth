<!DOCTYPE html><body><div id="term"><pre id="out"></pre><hr><pre style="word-wrap: normal;" id="stack"></pre><textarea placeholder="Enter your forth code here" rows="5" style="width: 100%;" id="in" autofocus></textarea></div><script>
   wa64 = "AGFzbQEAAAABFgVgAAF/YAAAYAF/AX9gAX8AYAJ/fwADCAcAAQACAwQBBQMBABEGGQN/AUGAgMAAC38AQYP6wQALfwBBkPrBAAsHSwgGbWVtb3J5AgAFZmxhZ3MAAAV6ZmxhZwABA3RvcAACBXN0YWNrAAMFZm9ydGgABQpfX2RhdGFfZW5kAwELX19oZWFwX2Jhc2UDAgqrCQcLAEEALQCC+sGAAAsNAEEAQQA6AIL6wYAACwsAQQAvAYD6wYAACyYAAkAgAEG/PksNACAAQQJ0QYCAwIAAaigCAA8LIAAQhICAgAAACwkAEIaAgIAAAAvMCAEBf0EAQQA6AIL6wYAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABBv+DNA0oNAAJAIABBX2oOIAkCAgICAgICAgIEAgIMAgICAgICAgICAgICAgICAgIIAAsgAEG94ABGDQYgAEH5yq0DRw0BQQBBEDoAgvrBgAAPCwJAIABB89K1qwZKDQAgAEHA4M0DRg0JIABB8N7JowZHDQFBAC8BgPrBgAAiAA0FQQBBAjoAgvrBgAAPCyAAQfTStasGRg0JIABB5NyF8wZGDQMgAEHo5tWDB0YNAQtBAEEgOgCC+sGAAA8LAkBBAC8BgPrBgAAiAEGgH0kNAEEAQQE6AIL6wYAADwtBACAAQQFqOwGA+sGAACAAQQJ0QYCAwIAAaiABNgIADwtBAC8BgPrBgAAiAEECSQ0IIABBf2ohASAAQcE+Tw0JIABBfmoiAkHAPk8NCkEAIABBf2o7AYD6wYAAIAJBAnRBgIDAgABqIgAgACgCACABQQJ0QYCAwIAAaigCAGo2AgAPC0EALwGA+sGAACIAQQJJDQogAEF/aiEBIABBwT5PDQsgAEF+aiICQcA+Tw0MQQAgAEF/ajsBgPrBgAAgAkECdEGAgMCAAGoiACAAKAIAIAFBAnRBgIDAgABqKAIAcUF/czYCAA8LQQAgAEF/ajsBgPrBgAAPC0EALwGA+sGAAEF/aiIAQcA+Tw0LIABBAnRBgIDAgABqIgBBAEF/IAAoAgAbNgIADwtBAC8BgPrBgABBf2oiAEG/PksNCyAAQQJ0QYCAwIAAaiIBKAIAIgBBwD5PDQwgASAAQQJ0QYCAwIAAaigCADYCAA8LQQAvAYD6wYAAIgBBAkkNDEEAIABBf2oiATsBgPrBgAAgAUH//wNxIQEgAEHBPk8NDSABQX9qIgJBwD5PDQ4CQCABQQJ0QYCAwIAAaigCACIBQcA+Tw0AQQAgAEF+ajsBgPrBgAAgAUECdEGAgMCAAGogAkECdEGAgMCAAGooAgA2AgAPCyABEISAgIAAAAsCQEEALwGA+sGAACIAQaAfSQ0AQQBBAToAgvrBgAAPC0EAIABBAWo7AYD6wYAAIABBAnRBgIDAgABqIABBf2o2AgAPCwJAQQAvAYD6wYAAIgANAEEAQQY6AIL6wYAADwtBACAAQX9qOwGA+sGAAEEAQQQ6AIL6wYAADwsCQEEALwGA+sGAACIADQBBAEEKOgCC+sGAAA8LQQAgAEF/ajsBgPrBgABBAEEIOgCC+sGAAA8LQQBBAjoAgvrBgAAPCyABEISAgIAAAAsgAhCEgICAAAALQQBBAjoAgvrBgAAPCyABEISAgIAAAAsgAhCEgICAAAALIAAQhICAgAAACyAAEISAgIAAAAsgABCEgICAAAALQQBBAjoAgvrBgAAPCyABEISAgIAAAAtBfxCEgICAAAALBAAAAAs=",wabuf=Uint8Array.from(atob(wa64),(A=>A.charCodeAt(0))).buffer,WebAssembly.compile(wabuf).then((A=>{wasm=A,ins=new WebAssembly.Instance(wasm)}));const term=document.getElementById("term"),out=document.getElementById("out"),input=document.getElementById("in"),stack=document.getElementById("stack"),dict={};let com="";function output(A){out.innerHTML+=A,term.scrollTop=term.scrollHeight}function redrawStack(){const A=[];for(let g=0;g<ins.exports.top();g++)A.push(ins.exports.stack(g));stack.innerHTML=`Stack: [${A}] <- Top`}function defineWord(A,g){let B=[];for(let t=g;t<A.length;t++)if(";"===A[t]){B=A.slice(g,t+1);break}let t=B.length+g;B.shift(),B.pop();const e=B.shift(),C=B.join(" ");return dict[e]=C,t}function executeCommand(A){const g=A.split(/\s+/);let B=!0,t="",e="",C=0,o=0;for(;C<g.length;C++){const A=g[C];if(""===A)continue;if("cr"===A)output("\n");else if(A in dict)executeCommand(dict[A]),B=!1;else if(isNaN(A))if(":"===A)o=defineWord(g,o),C=o-1;else{let g=0;for(let B=0;B<A.length;B++){g=g<<8|A.charCodeAt(B)}ins.exports.forth(g)}else ins.exports.forth(1886745448,parseInt(A));let Q=ins.exports.flags();if(1&Q)t+="Overflow";else if(2&Q)t+="Underflow";else if(4&Q)t+=String.fromCharCode(ins.exports.stack(ins.exports.top()));else if(8&Q)t+=ins.exports.stack(ins.exports.top());else if(16&Q){const A=prompt("Enter input");isNaN(A)?ins.exports.forth(1886745448,A.charCodeAt(0)):ins.exports.forth(1886745448,parseInt(A))}32&Q&&(e=`${A} ?`),ins.exports.zflag()}""===e&&(e="ok"),B&&output(`${com} ${t} ${e}\n`),redrawStack()}input.addEventListener("keydown",(function(A){if("Return"===A.key||"Enter"===A.code&&!A.shiftKey){A.preventDefault();const g=input.value;input.value="",com=g.replace(/\n/g," "),executeCommand(com.replace(/\([^)]*\)/g,"")),window.scrollTo(0,document.body.scrollHeight)}}));
</script></body></html>